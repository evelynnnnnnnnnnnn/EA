{"version":3,"file":"channel-list.bundle.map.js","names":["this","BX","Messenger","v2","Component","exports","main_date","im_v2_component_elements","im_v2_lib_utils","im_v2_lib_parser","im_v2_lib_dateFormatter","im_v2_lib_logger","im_v2_lib_user","im_v2_application_core","im_v2_lib_rest","main_core","im_v2_const","im_v2_lib_layout","im_v2_lib_menu","MessageText","name","components","Avatar","ChatTitle","props","item","type","Object","required","data","computed","AvatarSize","recentItem","dialog","$store","getters","dialogId","message","formattedDate","formatDate","date","isLastMessageAuthor","authorId","Core","getUserId","lastMessageAuthorAvatar","author","avatar","lastMessageAuthorAvatarStyle","backgroundImage","messageText","isDeleted","loc","formattedText","Parser","purifyRecent","formattedMessageText","SPLIT_INDEX","Utils","text","insertUnseenWhitespace","methods","DateFormatter","formatByTemplate","DateTemplate","recent","phraseCode","replacements","$Bitrix","Loc","getMessage","template","ChannelItem","needsBirthdayPlaceholder","formattedCounter","counter","toString","layout","isUser","ChatType","user","isChat","isChatSelected","Layout","channel","entityId","isChatMuted","isMuted","muteList","find","element","Boolean","isSomeoneTyping","writingList","length","showLastMessage","Settings","invitation","wrapClasses","EmptyState","_itemsPerPage","babelHelpers","classPrivateFieldLooseKey","_isLoading","_pagesLoaded","_hasMoreItemsToLoad","_lastMessageId","_requestItems","_updateModels","_getMinMessageId","ChannelService","constructor","defineProperty","value","_getMinMessageId2","_updateModels2","_requestItems2","firstPageIsLoaded","writable","async","classPrivateFieldLooseBase","result","firstPage","loadNextPage","Promise","resolve","hasMoreItemsToLoad","queryParams","limit","filter","lastMessageId","runAction","RestMethod","imV2RecentChannelTail","catch","error","console","Logger","warn","messages","hasNextPage","restResult","users","chats","files","recentItems","usersPromise","getStore","dispatch","dialoguesPromise","messagesPromise","filesPromise","recentPromise","all","firstMessageId","id","reduce","minId","nextMessage","Math","min","TAG","_pullClient","_requestWatchStart","PullWatchManager","_requestWatchStart2","getPullClient","subscribe","extendWatch","unsubscribe","clearWatch","imV2RecentChannelExtendPullWatch","ChannelRecentMenu","RecentMenu","getMenuItems","getOpenItem","onclick","LayoutManager","getInstance","setLayout","context","menuInstance","close","ChannelList","LoadingState","ListLoadingState","emits","isLoading","isLoadingNextPage","firstPageLoaded","collection","preparedItems","sort","a","b","firstDate","secondDate","isEmptyCollection","created","contextMenuManager","beforeUnmount","destroy","getRecentService","loadFirstPage","getPullWatchManager","deactivated","event","dom","isOneScreenRemaining","target","onClick","$emit","onRightClick","preventDefault","openMenu","currentTarget","service","pullWatchManager","List","Main","Elements","Lib","Application","Const"],"sources":["channel-list.bundle.js"],"mappings":"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"}