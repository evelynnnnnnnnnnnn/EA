{"version":3,"file":"copilot-list.bundle.map.js","names":["this","BX","Messenger","v2","Component","exports","im_v2_lib_draft","main_date","im_v2_component_elements","im_v2_lib_utils","im_v2_lib_parser","im_v2_lib_dateFormatter","im_v2_application_core","im_v2_const","im_v2_lib_logger","im_v2_provider_service","main_core","im_public","im_v2_lib_menu","MessageText","props","item","type","Object","required","data","computed","recentItem","dialog","$store","getters","dialogId","user","message","showLastMessage","Settings","recent","hiddenMessageText","$Bitrix","Loc","getMessage","isLastMessageAuthor","authorId","Core","getUserId","lastMessageAuthorAvatar","authorDialog","avatar","lastMessageAuthorAvatarStyle","backgroundImage","messageText","formattedText","Parser","purifyRecent","formattedMessageText","SPLIT_INDEX","Utils","text","insertUnseenWhitespace","preparedDraftContent","phrase","loc","PLACEHOLDER_LENGTH","length","prefix","slice","formattedDraftText","purify","draft","showIconIfEmptyText","methods","phraseCode","replacements","template","CopilotItem","name","components","Avatar","ChatTitle","AvatarSize","formattedDate","formatDate","date","formattedCounter","counter","toString","layout","isChatSelected","Layout","copilot","entityId","isChatMuted","isMuted","muteList","find","element","Boolean","isSomeoneTyping","writingList","showPinnedIcon","pinned","unread","showCounter","wrapClasses","itemClasses","DateFormatter","formatByTemplate","DateTemplate","CopilotRecentService","RecentService","getQueryParams","firstPage","ONLY_COPILOT","LIMIT","itemsPerPage","LAST_MESSAGE_DATE","lastMessageDate","GET_ORIGINAL_TEXT","PARSE_TEXT","getModelSaveMethod","getCollection","getStore","getExtractorOptions","withBirthdays","hideChat","Logger","warn","dispatch","id","chatIsOpened","openCopilot","getRestClient","callMethod","RestMethod","imRecentHide","DIALOG_ID","catch","error","console","CopilotRecentMenu","RecentMenu","getMenuItems","getOpenItem","getPinMessageItem","getHideItem","onclick","context","menuInstance","close","getRecentService","service","CopilotList","LoadingState","ListLoadingState","emits","isLoading","isLoadingNextPage","collection","sortedItems","sort","a","b","firstDate","secondDate","pinnedItems","filter","generalItems","isEmptyCollection","async","contextMenuManager","loadFirstPage","CopilotDraftManager","getInstance","initDraftHistory","beforeUnmount","destroy","event","dom","isOneScreenRemaining","target","hasMoreItemsToLoad","loadNextPage","onClick","$emit","onRightClick","preventDefault","openMenu","currentTarget","List","Lib","Main","Elements","Application","Const","Provider","Service"],"sources":["copilot-list.bundle.js"],"mappings":"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"}